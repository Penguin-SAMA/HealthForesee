# 银发守护 - 前端用户故事文档（详细版）

## 1. 文档概述
本用户故事文档面向前端团队，定义银发守护 MVP 阶段所需的全部前端界面逻辑、交互行为、数据流及验收标准。

范围覆盖：
- 登录与角色选择
- 父母-子女家庭绑定
- 子女端首页（家庭看板）
- 父母详情页
- 一键挂号三步流程
- 通用交互规范

---

## 2. 登录与角色选择

### US-101：验证码登录
- 用户输入手机号 → 获取验证码
- 输入验证码 → 登录
- 登录成功后根据 hasCompletedProfile 跳转

AC：
- 验证码倒计时正确
- 登录后 token 保存成功

### US-102：角色选择 / 资料完善
- 选择老人端或子女端
- 填写姓名、性别、出生日期
- 提交 → 更新资料

---

## 3. 父母-子女家庭绑定

### US-201：子女端家庭管理页
- 展示所有父母卡片
- 添加父母（手机号或扫码）

API：
GET /family/members?roleFilter=PARENT

### US-202：手机号邀请父母
- 输入手机号 → 发送邀请

### US-203：父母端处理邀请
- 查看待处理邀请列表
- 同意 / 拒绝

---

## 4. 子女端首页（家庭看板）

### US-301：家庭看板展示
展示内容：
- 姓名
- 健康状态（绿/黄/红）
- 最近指标（心率/血糖）
- 最近告警摘要

API：
GET /dashboard/children

---

## 5. 父母详情页

### US-401：父母健康总览
包括：
- 基础信息
- 健康状态
- 最新指标
- 告警列表
- 一键挂号入口

API：
GET /parents/{parentUserId}/overview

---

## 6. 一键挂号流程

### US-501：症状描述页
- 输入症状（必填）
- 快捷标签
- 调用推荐接口

API：
POST /appointments/recommendations

### US-502：推荐医院 & 科室页
- 显示推荐医院列表
- 显示推荐理由

### US-503：挂号确认页
- 选择日期 + 时段
- 点击“去挂号” → 调用 /appointments/quick
- 打开 redirectUrl

---

## 7. 挂号记录页

### US-601：查看挂号记录列表
- 按时间倒序展示
- 状态：已预约/待处理

API：
GET /appointments?patientUserId=xxx

---

## 8. 前端通用设计规范
- 错误提示来自后端 message 字段
- 网络失败提供重试按钮
- Token 失效自动跳转登录
- 所有页面适配大字体

